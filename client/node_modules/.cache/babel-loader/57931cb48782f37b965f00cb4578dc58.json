{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport sendReq from '../helper/sendReqToServer';\nexport const getUserData = createAsyncThunk(\"localhost:4000/user\", async thunkAPI => {\n  const configReq = {\n    method: 'get',\n    url: '/user',\n    header: {\n      \"Content-Type\": \"text/plain\"\n    },\n    data: \"\"\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nexport const getFriend = createAsyncThunk(\"localhost:4000/user/friend\", async thunkAPI => {\n  const configReq = {\n    method: 'get',\n    url: '/user/friend',\n    header: {\n      \"Content-Type\": \"text/plain\"\n    },\n    data: \"\"\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nexport const addFriend = createAsyncThunk(\"localhost:4000/user/friend\", async (type, thunkAPI) => {\n  const configReq = {\n    method: 'get',\n    url: '/user/friend',\n    header: {\n      \"Content-Type\": \"text/plain\"\n    },\n    params: {\n      type\n    }\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nconst user = createSlice({\n  name: \"user\",\n  initialState: {\n    user: {\n      isLoad: true,\n      user_info: null\n    },\n    friend: {\n      isLoad: true,\n      request: [],\n      accepted: []\n    }\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getUserData.pending, (state, action) => {\n      state.user.isLoad = true;\n    });\n    builder.addCase(getUserData.fulfilled, (state, action) => {\n      state.user.user_info = action.payload;\n      state.user.isLoad = false;\n      console.log(state.user.user_info);\n    });\n    builder.addCase(getFriend.pending, (state, action) => {\n      state.friend.isLoad = true;\n    });\n    builder.addCase(getFriend.fulfilled, (state, action) => {\n      state.friend = {\n        isLoad: true,\n        ...action.payload\n      };\n      console.log(state.friend);\n    });\n  }\n});\nexport const {} = user.actions;\nexport default user.reducer;","map":{"version":3,"sources":["D:/Learn_ReactJS/document-share/client/src/features/userSlice.js"],"names":["createAsyncThunk","createSlice","sendReq","getUserData","thunkAPI","configReq","method","url","header","data","res","getFriend","addFriend","type","params","user","name","initialState","isLoad","user_info","friend","request","accepted","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","console","log","actions","reducer"],"mappings":"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","sourcesContent":["import {createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport sendReq from '../helper/sendReqToServer'\r\n\r\nexport const getUserData = createAsyncThunk(\r\n    \"localhost:4000/user\",\r\n    async (thunkAPI) => {\r\n        const configReq = {\r\n            method: 'get',\r\n            url: '/user',\r\n            header: {\r\n                \"Content-Type\": \"text/plain\"\r\n            },\r\n            data: \"\"\r\n        }\r\n        const res = await sendReq(configReq)\r\n        return res.data\r\n    }\r\n)\r\n\r\nexport const getFriend = createAsyncThunk(\r\n    \"localhost:4000/user/friend\",\r\n    async (thunkAPI)  => {\r\n        const configReq = {\r\n            method: 'get',\r\n                url: '/user/friend',\r\n                header: {\r\n                    \"Content-Type\": \"text/plain\"\r\n                },\r\n                data: \"\"\r\n        }\r\n        const res = await sendReq(configReq)\r\n        return res.data\r\n    }\r\n)\r\n\r\nexport const addFriend = createAsyncThunk(\r\n    \"localhost:4000/user/friend\",\r\n    async (type,thunkAPI)  => {\r\n        const configReq = {\r\n            method: 'get',\r\n                url: '/user/friend',\r\n                header: {\r\n                    \"Content-Type\": \"text/plain\"\r\n                },\r\n                params: {\r\n                    type\r\n                }\r\n        }\r\n        const res = await sendReq(configReq)\r\n        return res.data\r\n    }\r\n)\r\n\r\nconst user = createSlice({\r\n    name: \"user\",\r\n    initialState: {\r\n        user : {\r\n            isLoad: true,\r\n            user_info: null\r\n        },\r\n        friend: {\r\n            isLoad: true,\r\n            request: [],\r\n            accepted: []\r\n        }\r\n    },\r\n    reducers: {\r\n\r\n    },\r\n    extraReducers : (builder) => {\r\n        builder.addCase(getUserData.pending, (state, action) => {\r\n            state.user.isLoad = true\r\n        })\r\n        builder.addCase(getUserData.fulfilled, (state, action) => {\r\n            state.user.user_info = action.payload\r\n            state.user.isLoad = false\r\n            console.log(state.user.user_info)\r\n        })\r\n        builder.addCase(getFriend.pending, (state, action) => {\r\n            state.friend.isLoad = true\r\n        })\r\n        builder.addCase(getFriend.fulfilled, (state, action) => {\r\n            state.friend = {\r\n                isLoad: true,\r\n                ...action.payload\r\n            }\r\n            console.log(state.friend)\r\n        })\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const {} = user.actions;\r\nexport default user.reducer;"]},"metadata":{},"sourceType":"module"}