{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport sendReq from '../helper/sendReqToServer';\nimport { useDispatch } from 'react-redux';\nimport { setIsPending } from './loadingSlice';\nexport const sendReqLogin = createAsyncThunk(\"localhost:4000/account/signin\", async (dataReq, thunkAPI) => {\n  const configReq = {\n    method: 'POST',\n    url: '/account/signin',\n    header: {\n      \"Content-Type\": 'application/x-www-form-urlencoded;charset=utf-8'\n    },\n    data: dataReq\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nexport const sendReqReLogin = createAsyncThunk(\"localhost:4000/\", async thunkAPI => {\n  const configReq = {\n    method: 'get',\n    url: '',\n    header: {\n      \"Content-Type\": 'text/plain; charset=utf-8'\n    },\n    data: \"\"\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nexport const sendReqRegister = createAsyncThunk(\"localhost:4000/account/signup\", async (dataReq, thunkAPI) => {\n  const configReq = {\n    method: 'POST',\n    url: '/account/signup',\n    header: {\n      \"Content-Type\": 'application/x-www-form-urlencoded;charset=utf-8'\n    },\n    data: dataReq\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nexport const sendReqLogout = createAsyncThunk(\"localhost:4000/account/logout\", async (dataReq, thunkAPI) => {\n  const configReq = {\n    method: 'GET',\n    url: '/account/logout'\n  };\n  const res = await sendReq(configReq);\n  return res.data;\n});\nconst authenticate = createSlice({\n  name: \"authenticate\",\n  initialState: {\n    auth: {\n      isAuthenticated: false,\n      message: {\n        type: null,\n        mess: null\n      }\n    },\n    isLoading: false\n  },\n  reducers: {\n    setMess: (state, action) => {\n      state.auth.message = {\n        type: action.payload.type,\n        mess: action.payload.mess\n      };\n    },\n    setIsLoad: (state, action) => {\n      state.isLoading = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(sendReqLogin.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(sendReqLogin.fulfilled, (state, action) => {\n      state.auth = action.payload;\n      state.isLoading = false;\n    });\n    builder.addCase(sendReqLogin.rejected, (state, action) => {\n      console.log(action.error);\n    });\n    builder.addCase(sendReqRegister.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(sendReqRegister.fulfilled, (state, action) => {\n      state.auth = action.payload;\n      state.isLoading = false;\n    });\n    builder.addCase(sendReqReLogin.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(sendReqReLogin.fulfilled, (state, action) => {\n      state.auth = action.payload;\n      state.isLoading = false;\n    });\n    builder.addCase(sendReqLogout.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(sendReqLogout.fulfilled, (state, action) => {\n      state.auth = action.payload;\n      state.isLoading = false;\n    });\n    builder.addCase(sendReqLogout.rejected, (state, action) => {\n      console.log(action.error);\n    });\n  }\n});\nexport const {\n  setMess,\n  setIsLoad\n} = authenticate.actions;\nexport default authenticate.reducer;","map":{"version":3,"sources":["D:/Learn_ReactJS/document-share/client/src/features/authenticateSlice.js"],"names":["createAsyncThunk","createSlice","sendReq","useDispatch","setIsPending","sendReqLogin","dataReq","thunkAPI","configReq","method","url","header","data","res","sendReqReLogin","sendReqRegister","sendReqLogout","authenticate","name","initialState","auth","isAuthenticated","message","type","mess","isLoading","reducers","setMess","state","action","payload","setIsLoad","extraReducers","builder","addCase","pending","fulfilled","rejected","console","log","error","actions","reducer"],"mappings":"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","sourcesContent":["import {createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport sendReq from '../helper/sendReqToServer';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setIsPending } from './loadingSlice';\r\n\r\nexport const sendReqLogin = createAsyncThunk(\r\n    \"localhost:4000/account/signin\",\r\n    async (dataReq, thunkAPI) => {\r\n        const configReq = {\r\n            method: 'POST',\r\n            url: '/account/signin',\r\n            header: {\r\n                \"Content-Type\": 'application/x-www-form-urlencoded;charset=utf-8'\r\n            },\r\n            data: dataReq\r\n        }\r\n        const res = await sendReq(configReq)\r\n        return res.data\r\n    }\r\n)\r\n\r\nexport const sendReqReLogin = createAsyncThunk(\r\n    \"localhost:4000/\",\r\n    async (thunkAPI) => {\r\n        const configReq = {\r\n            method: 'get',\r\n            url: '',\r\n            header: {\r\n                \"Content-Type\": 'text/plain; charset=utf-8'\r\n            },\r\n            data: \"\"\r\n        }\r\n        const res = await sendReq(configReq);\r\n        return res.data\r\n    }\r\n)\r\n\r\nexport const sendReqRegister = createAsyncThunk(\r\n    \"localhost:4000/account/signup\",\r\n    async (dataReq,thunkAPI) => {\r\n        const configReq = {\r\n            method: 'POST',\r\n            url: '/account/signup',\r\n            header: {\r\n                \"Content-Type\" : 'application/x-www-form-urlencoded;charset=utf-8'\r\n            },\r\n            data: dataReq\r\n        }\r\n        const res = await sendReq(configReq);\r\n        return res.data\r\n    }\r\n)\r\n\r\nexport const sendReqLogout = createAsyncThunk(\r\n    \"localhost:4000/account/logout\",\r\n    async (dataReq,thunkAPI) => {\r\n        const configReq = {\r\n            method: 'GET',\r\n            url: '/account/logout',\r\n        }\r\n        const res = await sendReq(configReq);\r\n        return res.data\r\n    }\r\n)\r\n\r\nconst authenticate = createSlice({\r\n    name: \"authenticate\",\r\n    initialState: {\r\n        auth : {\r\n            isAuthenticated: false,\r\n            message: {\r\n                type: null,\r\n                mess: null\r\n            },\r\n        },\r\n        isLoading : false\r\n    },\r\n    reducers : {\r\n        setMess : (state, action) => {\r\n            state.auth.message = {\r\n                type: action.payload.type,\r\n                mess: action.payload.mess\r\n            }\r\n        },\r\n        setIsLoad : (state, action) => {\r\n            state.isLoading = action.payload\r\n        }\r\n    },\r\n    extraReducers : (builder) => {\r\n        builder.addCase(sendReqLogin.pending, (state, action) => {\r\n            state.isLoading = true;\r\n        })\r\n        builder.addCase(sendReqLogin.fulfilled , (state, action) => {\r\n            state.auth = action.payload\r\n            state.isLoading = false;\r\n        })\r\n        builder.addCase(sendReqLogin.rejected, (state, action) => {\r\n            console.log(action.error);\r\n        })\r\n\r\n        builder.addCase(sendReqRegister.pending, (state, action) => {\r\n            state.isLoading = true;\r\n        })\r\n        builder.addCase(sendReqRegister.fulfilled , (state, action) => {\r\n            state.auth = action.payload\r\n            state.isLoading = false;\r\n        })\r\n\r\n        \r\n        builder.addCase(sendReqReLogin.pending, (state, action) => {\r\n            state.isLoading = true;\r\n        })\r\n        builder.addCase(sendReqReLogin.fulfilled , (state, action) => {\r\n            state.auth = action.payload\r\n            state.isLoading = false;\r\n        })\r\n\r\n        builder.addCase(sendReqLogout.pending, (state, action) => {\r\n            state.isLoading = true;\r\n        })\r\n        builder.addCase(sendReqLogout.fulfilled , (state, action) => {\r\n            state.auth = action.payload\r\n            state.isLoading = false;\r\n        })\r\n        builder.addCase(sendReqLogout.rejected, (state, action) => {\r\n            console.log(action.error);\r\n        })\r\n    }\r\n})\r\n\r\nexport const {setMess, setIsLoad} = authenticate.actions;\r\nexport default authenticate.reducer;"]},"metadata":{},"sourceType":"module"}