{"ast":null,"code":"import _asyncToGenerator from\"D:\\\\Learn_ReactJS\\\\document-share\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\Learn_ReactJS\\\\document-share\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Navigate}from\"react-router-dom\";import{sendReqToServer}from\"../features/authenticateSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";var ReRoute=function ReRoute(_ref){var children=_ref.children;var auth=useSelector(function(state){return state.authenticate.auth.isAuthenticated;});var dispatch=useDispatch();var sendReqLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var configReq;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:configReq={method:'get',url:'/',header:{\"Content-Type\":'text/plain; charset=utf-8'},data:\"\"};dispatch(sendReqToServer(configReq));case 2:case\"end\":return _context.stop();}}},_callee);}));return function sendReqLogin(){return _ref2.apply(this,arguments);};}();useEffect(function(){sendReqLogin();},[]);return auth?/*#__PURE__*/_jsx(Navigate,{to:\"/document\"}):children;};export default ReRoute;","map":{"version":3,"sources":["D:/Learn_ReactJS/document-share/client/src/route/redirect_route.js"],"names":["React","useEffect","useDispatch","useSelector","Navigate","sendReqToServer","ReRoute","children","auth","state","authenticate","isAuthenticated","dispatch","sendReqLogin","configReq","method","url","header","data"],"mappings":"4QAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,eAAT,KAAgC,+BAAhC,C,2CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CAC5B,GAAMC,CAAAA,IAAI,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAN,CAAmBF,IAAnB,CAAwBG,eAAnC,EAAD,CAAxB,CACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,CAAAA,YAAY,2FAAG,iJACXC,SADW,CACC,CACdC,MAAM,CAAE,KADM,CAEdC,GAAG,CAAE,GAFS,CAGdC,MAAM,CAAE,CACJ,eAAgB,2BADZ,CAHM,CAMdC,IAAI,CAAE,EANQ,CADD,CAUjBN,QAAQ,CAACP,eAAe,CAACS,SAAD,CAAhB,CAAR,CAViB,sDAAH,kBAAZD,CAAAA,YAAY,2CAAlB,CAaAZ,SAAS,CAAC,UAAM,CACZY,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAGA,MACIL,CAAAA,IAAI,cAAG,KAAC,QAAD,EAAU,EAAE,CAAC,WAAb,EAAH,CAAgCD,QADxC,CAGH,CAvBD,CAyBA,cAAeD,CAAAA,OAAf","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { sendReqToServer } from \"../features/authenticateSlice\";\r\n\r\nconst ReRoute = ({children}) => {\r\n    const auth = useSelector((state) => state.authenticate.auth.isAuthenticated);\r\n    const dispatch = useDispatch();\r\n\r\n    const sendReqLogin = async () => {\r\n        const configReq = {\r\n            method: 'get',\r\n            url: '/',\r\n            header: {\r\n                \"Content-Type\": 'text/plain; charset=utf-8'\r\n            },\r\n            data: \"\"\r\n        }\r\n\r\n        dispatch(sendReqToServer(configReq));\r\n    }\r\n\r\n    useEffect(() => {\r\n        sendReqLogin()\r\n    }, []);\r\n    return (\r\n        auth ? <Navigate to=\"/document\"/> : children\r\n    )\r\n}\r\n\r\nexport default ReRoute;"]},"metadata":{},"sourceType":"module"}